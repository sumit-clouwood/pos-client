<template>
  <li
    class="nav-icon nav-item setting-icon color-main color-text-invert"
    id="setting-icon"
    @click="openConfigLinks()"
  >
    <a class="nav-link color-text-invert">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="21"
        viewBox="0 0 24 21"
      >
        <path
          fill="#FFF"
          fill-rule="nonzero"
          d="M0 0h24v3H0V0zm0 9h24v3H0V9zm0 9h24v3H0v-3z"
        />
      </svg>
    </a>
    <ul class="setting-dropdown">
      <div class="profile-sidebar-header">
        <avatar />
        <div class="btn-close" @click="closeConfigLinks">âœ–</div>
      </div>
      <li v-if="!isWaiter() && !isCarhop() && permitted('dashboard', 'root')">
        <svg data-v-0fe42853="" id="dashboard_icon" viewBox="0 0 24 24">
          <path
            data-v-0fe42853=""
            fill=""
            fill-rule="nonzero"
            d="M14.105 12.702l3.664-4.188a.375.375 0 0 0-.017-.512l-.254-.254a.375.375 0 0 0-.512-.017l-4.188 3.664A2.254 2.254 0 0 0 9.75 13.5a2.25 2.25 0 1 0 4.355-.798zM12 24C5.373 24 0 18.627 0 12S5.373 0 12 0s12 5.373 12 12-5.373 12-12 12zm-.375-21.371v.743c0 .218.168.378.375.378a.38.38 0 0 0 .375-.378v-.743A.371.371 0 0 0 12 2.25a.38.38 0 0 0-.375.379zM3.746 11.25h-.743a.371.371 0 0 0-.378.375c0 .202.17.375.378.375h.743a.371.371 0 0 0 .379-.375.38.38 0 0 0-.379-.375zm17.25 0h-.743a.371.371 0 0 0-.378.375c0 .202.17.375.378.375h.743a.371.371 0 0 0 .379-.375.38.38 0 0 0-.379-.375zm-2.9-6.252l-.525.526a.37.37 0 0 0-.002.532.38.38 0 0 0 .532-.002l.526-.525a.372.372 0 0 0 .002-.533.382.382 0 0 0-.533.002zm-11.667.526l-.525-.526a.372.372 0 0 0-.533-.002.382.382 0 0 0 .002.533l.526.525a.37.37 0 0 0 .532.002.38.38 0 0 0-.002-.532zm8.703-2.317l-.284.686a.371.371 0 0 0 .201.493.38.38 0 0 0 .491-.206l.285-.686a.371.371 0 0 0-.202-.493.38.38 0 0 0-.49.206zM4.554 8.157l-.687-.284a.372.372 0 0 0-.493.201.383.383 0 0 0 .206.492l.687.284a.372.372 0 0 0 .493-.202.38.38 0 0 0-.206-.49zm15.65-.284l-.687.284a.37.37 0 0 0-.206.491.38.38 0 0 0 .493.202l.687-.284c.2-.084.285-.3.206-.492a.382.382 0 0 0-.493-.201zm-10.98-3.98l-.285-.686a.37.37 0 0 0-.491-.206.381.381 0 0 0-.202.493l.285.686a.37.37 0 0 0 .49.206.381.381 0 0 0 .202-.493z"
          ></path>
        </svg>
        <a :href="dashboard">{{ _t('Dashboard') }}</a>
      </li>
      <li v-if="!isWaiter() && !isCarhop()" @click="walkOrder()">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="14"
          height="22"
          viewBox="0 0 14 22"
        >
          <g fill="#FFF" fill-rule="nonzero">
            <path
              d="M5.23 3.72c-.35.309-4.033 3.053-4.033 3.053-.14.103-.28.377-.28.549v3.636c0 1.132 1.543 1.063 1.543-.034V8.282c0-.171.14-.446.28-.549l1.964-1.509c.14-.103.28-.068.28.137v4.597c0 .206.106.446.28.549l4.384 3.464c.14.103.316.343.386.549 0 0 1.192 3.293 1.683 4.734.491 1.44 2.42.857 1.964-.618-.28-.857-1.894-5.317-1.894-5.317a1.96 1.96 0 0 0-.385-.548L7.93 10.958V5.195c.035-.686-2.314-1.784-2.7-1.475z"
            />
            <path
              d="M4.79 12.833S1.228 18.648.26 20.111c-.934 1.462.9 2.633 1.73 1.316.83-1.28 4.428-7.277 4.428-7.277L4.79 12.833zM8.25 10.14s1.299.897 2.215 1.57c.917.672 2.025-.449 1.108-1.154C10.656 9.852 8.25 8.25 8.25 8.25v1.89zM5.5 1.27c0 1.656 1.645 2.397 2.399 2.397.548 0 1.268-.07 1.268-1.516S8.79 0 7.145 0C6.63 0 5.5.141 5.5 1.27z"
            />
          </g>
        </svg>
        <a role="button">{{ _t('Walk In') }}</a>
      </li>
      <li v-if="!isWaiter() && !isCarhop() && permitted('delivery', 'root')">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
        >
          <g fill="#000" fill-rule="evenodd">
            <path
              fill-rule="nonzero"
              d="M21.762 17.858l-5.588 1.087c.167.465.26.952.279 1.445l5.588-1.082a.736.736 0 0 0-.279-1.445v-.005zM11.432 15.762C9.742 7.318 8.983 3.923 8.2.612a.735.735 0 0 0-.715-.568H1.607a.735.735 0 1 0 0 1.47h5.295C7.622 4.637 8.4 8.1 9.992 16.05c.463-.17.948-.268 1.44-.29zM13.886 18.093a3.38 3.38 0 1 0 0 0zm-2.248 4.364a1.88 1.88 0 1 1 1.886-1.886 1.886 1.886 0 0 1-1.88 1.881l-.006.005zM20.832 4.937a.735.735 0 0 0-.862-.558l-8.38 1.714a.735.735 0 0 0-.569.882l1.974 8.973a4.834 4.834 0 0 1 2.596 1.88l7.004-1.43a.735.735 0 0 0 .568-.881l-2.331-10.58z"
            />
            <path
              d="M.86 7.776a.533.533 0 1 0 0 1.066h5.867a.533.533 0 0 0 0-1.066H.86zM3.611 10.568a.533.533 0 1 0 0 1.067h3.733a.533.533 0 1 0 0-1.067H3.611zM5.847 13.494a.533.533 0 0 0 0 1.067H7.98a.533.533 0 1 0 0-1.067H5.847z"
            />
          </g>
        </svg>
        <a role="button" class="cursor-pointer">
          <router-link :to="'/delivery-manager' + store">
            {{ _t('Delivery Manager') }}
          </router-link>
        </a>
      </li>
      <li v-if="!isWaiter() && !isCarhop() && permitted('menu', 'root')">
        <svg data-v-0fe42853="" id="menu_menu_icon" viewBox="0 0 24 20">
          <g data-v-0fe42853="" fill="" fill-rule="nonzero">
            <path
              data-v-0fe42853=""
              d="M.878 15.951h22.244c.498 0 .878-.38.878-.878a.862.862 0 0 0-.878-.878h-.263c-.322-4.449-3.747-8.107-8.254-9.16.38-.498.615-1.142.615-1.815a3.073 3.073 0 1 0-6.147 0c0 .643.205 1.258.556 1.756-4.624.965-8.166 4.683-8.488 9.22H.878a.862.862 0 0 0-.878.877c0 .498.38.878.878.878zM12.146 1.902c.732 0 1.317.586 1.317 1.318 0 .731-.585 1.317-1.317 1.317A1.312 1.312 0 0 1 10.83 3.22c0-.732.586-1.318 1.317-1.318zM23.122 18H.878a.862.862 0 0 0-.878.878c0 .498.38.878.878.878h22.244c.498 0 .878-.38.878-.878a.862.862 0 0 0-.878-.878z"
            ></path>
          </g>
        </svg>
        <a :href="menu">{{ _t('Menu Setup') }}</a>
      </li>
      <li v-if="!isWaiter()">
        <svg
          version="1.1"
          id="Capa_1"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          x="0px"
          y="0px"
          viewBox="0 0 259.761 259.761"
          style="enable-background:new 0 0 259.761 259.761;"
          xml:space="preserve"
        >
          <g>
            <path
              d="M129.879,0C77.562,0,35,42.563,35,94.882c0,31.605,29.071,81.486,41.569,101.465c10.282,16.436,21.32,32.062,31.079,44
    c15.871,19.414,20.328,19.414,22.232,19.414c1.827,0,6.105,0,21.921-19.42c9.784-12.014,20.831-27.637,31.106-43.988
    c12.584-20.027,41.854-70.006,41.854-101.471C224.761,42.563,182.198,0,129.879,0z M129.88,171.525
    c-41.389,0-75.062-33.673-75.062-75.062c0-41.389,33.673-75.062,75.062-75.062c41.389,0,75.062,33.673,75.062,75.062
    C204.942,137.852,171.269,171.525,129.88,171.525z"
            />
            <path
              d="M184.678,67.66c-0.52,0-1.054,0.075-1.586,0.222l-6.027,1.659l-6.257-15.244c-1.773-4.319-7.014-7.834-11.683-7.834
    h-58.573c-4.669,0-9.91,3.514-11.683,7.833l-6.25,15.225l-5.951-1.639c-0.532-0.146-1.066-0.222-1.586-0.222
    c-2.849,0-4.916,2.176-4.916,5.174v3.555c0,3.499,2.848,6.347,6.347,6.347h0.682l-1.01,2.459
    c-1.647,4.014-2.988,10.807-2.988,15.145v30.288c0,3.499,2.848,6.347,6.347,6.347h8.291c3.499,0,6.347-2.848,6.347-6.347v-7.563
    h71.316v7.563c0,3.499,2.848,6.347,6.347,6.347h8.288c3.499,0,6.347-2.848,6.347-6.347v-30.288c0-4.338-1.341-11.131-2.988-15.145
    l-1.01-2.459h0.767c3.499,0,6.347-2.848,6.347-6.347v-3.555C189.594,69.836,187.527,67.66,184.678,67.66z M87.17,79.288
    l9.467-23.062c1.06-2.584,4.213-4.697,7.006-4.697h52.392c2.792,0,5.944,2.114,7.005,4.697l9.467,23.062
    c1.061,2.584-0.357,4.697-3.149,4.697H90.32C87.528,83.985,86.11,81.872,87.17,79.288z M108.305,108.456
    c0,1.396-1.143,2.539-2.539,2.539H87.782c-1.397,0-2.539-1.143-2.539-2.539v-8.631c0-1.396,1.143-2.539,2.539-2.539h17.984
    c1.396,0,2.539,1.143,2.539,2.539V108.456z M174.263,108.456c0,1.396-1.143,2.539-2.539,2.539h-17.982
    c-1.396,0-2.539-1.143-2.539-2.539v-8.631c0-1.396,1.143-2.539,2.539-2.539h17.982c1.396,0,2.539,1.143,2.539,2.539V108.456z"
            />
          </g>
        </svg>
        <a role="button" class="cursor-pointer">
          <router-link :to="'/carhop' + store">
            {{ _t('Carhop') }}
          </router-link>
        </a>
      </li>
      <li v-if="!isCarhop()">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="13"
          height="22"
          viewBox="0 0 13 22"
        >
          <g fill="#FFF" fill-rule="nonzero">
            <path
              d="M9.21 15.744l-.02 5.375a.44.44 0 0 0 .44.442h.018l2.174-.089a.44.44 0 0 0 .422-.438l.021-5.479a1.295 1.295 0 0 1-.365.08l-2.69.11zM12.153.536a.43.43 0 0 0-.383-.08C9.733.98 8.215 2.834 7.986 5.069l-.942 9.38a.428.428 0 0 0 .115.344c.083.092.202.14.321.14h.018l4.351-.175a.447.447 0 0 0 .423-.44L12.32.883a.442.442 0 0 0-.167-.347zM2.64 9.56c-.467 0-.905-.12-1.305-.335l-.307 10.493c-.034.492.133.977.457 1.329.3.326.701.508 1.13.514h.02c.428 0 .829-.175 1.133-.495.334-.351.507-.84.476-1.322L3.979 9.21a2.75 2.75 0 0 1-1.339.351zM2.64.44C1.162.44 0 2.251 0 4.561 0 6.872 1.162 8.68 2.64 8.68c1.483 0 2.64-1.808 2.64-4.118 0-2.31-1.157-4.123-2.64-4.123z"
            />
          </g>
        </svg>
        <router-link
          :to="'/dine-in' + store"
          role="button"
          class="cursor-pointer"
        >
          {{ _t('Dine-In') }}
        </router-link>
      </li>
      <li v-if="!isWaiter() && !isCarhop() && permitted('crm', 'root')">
        <svg data-v-0fe42853="" id="crm_icon" viewBox="0 0 22 24">
          <path
            data-v-0fe42853=""
            fill=""
            fill-rule="nonzero"
            d="M10.839.28C9.989.28 9.29.978 9.29 1.83c0 .85.698 1.548 1.549 1.548.85 0 1.548-.698 1.548-1.548 0-.85-.698-1.549-1.548-1.549zM8.634 2.654l-.671.388.387.67.671-.386-.387-.672zm4.41 0l-.388.672.672.387.387-.671-.672-.388zm-5.751.775l-.67.387.387.671.67-.387-.387-.671zm7.092 0l-.388.671.67.387.387-.671-.67-.387zm-8.433.774l-.67.387.387.671.67-.387-.387-.671zm9.774 0l-.387.671.67.387.387-.671-.67-.387zM4.61 4.977l-.67.387.388.671.67-.387-.388-.671zm12.457 0l-.387.671.67.387.387-.67-.67-.388zm-15.051.34c-.497.036-.968.31-1.234.77-.426.736-.17 1.69.567 2.115.736.426 1.688.17 2.114-.567a1.554 1.554 0 0 0-.566-2.115 1.539 1.539 0 0 0-.881-.203zm17.646 0a1.539 1.539 0 0 0-.882.203 1.554 1.554 0 0 0-.565 2.115 1.553 1.553 0 0 0 2.114.567 1.555 1.555 0 0 0 .567-2.115 1.552 1.552 0 0 0-1.234-.77zm-8.823.752a2.904 2.904 0 0 0-2.9 2.9v.967c0 .938.456 1.765 1.15 2.296-1.815.774-3.084 2.712-3.084 4.954 0 .267.217.483.484.483h8.7a.483.483 0 0 0 .483-.483c0-2.242-1.268-4.18-3.083-4.954a2.887 2.887 0 0 0 1.15-2.296v-.967c0-1.598-1.302-2.9-2.9-2.9zM1.736 9.184v.774h.774v-.774h-.774zm17.431 0v.774h.775v-.774h-.775zM1.736 10.732v.774h.774v-.774h-.774zm17.431 0v.774h.775v-.774h-.775zM1.736 12.28v.775h.774v-.775h-.774zm17.431 0v.775h.775v-.775h-.775zM1.736 13.83v.774h.774v-.774h-.774zm17.431 0v.774h.775v-.774h-.775zM2.23 15.382a1.534 1.534 0 0 0-.88.202A1.555 1.555 0 0 0 .782 17.7a1.555 1.555 0 0 0 2.115.567 1.555 1.555 0 0 0 .567-2.116 1.554 1.554 0 0 0-1.235-.77zm17.22 0c-.497.035-.97.309-1.236.77-.425.736-.17 1.69.567 2.115.737.425 1.69.17 2.116-.567.425-.737.17-1.69-.567-2.116a1.534 1.534 0 0 0-.88-.202zm-15.121 2.37l-.387.67.67.388.386-.672-.67-.387zm13.022 0l-.67.386.387.672.67-.387-.387-.672zm-11.681.773l-.387.672.67.387.387-.672-.67-.387zm10.34 0l-.67.387.387.672.67-.387-.387-.672zM7.01 19.3l-.387.67.67.388.387-.671-.67-.387zm7.657 0l-.67.387.388.671.67-.387-.388-.671zm-6.317.774l-.387.671.671.387.387-.671-.671-.387zm4.978 0l-.672.387.387.671.672-.387-.387-.671zm-2.49.335c-.85 0-1.548.698-1.548 1.549 0 .85.698 1.548 1.549 1.548.85 0 1.548-.698 1.548-1.548 0-.85-.698-1.549-1.548-1.549z"
          ></path>
        </svg>
        <a :href="crm">{{ _t('CRM') }}</a>
      </li>
      <li
        v-if="!isWaiter() && !isCarhop() && permitted('transactional_orders')"
        @click="moveTransactionSection(this)"
      >
        <svg
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M4 8.99994H17L15.4 10.1999C15.2949 10.2787 15.2064 10.3775 15.1395 10.4905C15.0726 10.6034 15.0286 10.7285 15.0101 10.8585C14.9915 10.9885 14.9987 11.1209 15.0313 11.2481C15.0639 11.3753 15.1212 11.4949 15.2 11.5999C15.2931 11.7241 15.4139 11.8249 15.5528 11.8944C15.6916 11.9638 15.8448 11.9999 16 11.9999C16.2164 11.9999 16.4269 11.9298 16.6 11.7999L20.6 8.79994C20.7223 8.70662 20.8214 8.58634 20.8897 8.44845C20.9579 8.31056 20.9934 8.15879 20.9934 8.00494C20.9934 7.8511 20.9579 7.69933 20.8897 7.56144C20.8214 7.42355 20.7223 7.30327 20.6 7.20994L16.74 4.20994C16.5305 4.04684 16.2647 3.97364 16.0013 4.00646C15.7378 4.03928 15.4981 4.17542 15.335 4.38495C15.1719 4.59447 15.0987 4.8602 15.1315 5.12369C15.1643 5.38718 15.3005 5.62684 15.51 5.78994L17.08 6.99994H4C3.73478 6.99994 3.48043 7.1053 3.29289 7.29284C3.10536 7.48037 3 7.73473 3 7.99994C3 8.26516 3.10536 8.51952 3.29289 8.70705C3.48043 8.89459 3.73478 8.99994 4 8.99994Z"
            fill="#64C434"
          ></path>
          <path
            d="M20 16H6.99998L8.59998 14.8C8.81216 14.6409 8.95242 14.404 8.98993 14.1414C9.02744 13.8789 8.95911 13.6122 8.79998 13.4C8.64085 13.1878 8.40395 13.0476 8.1414 13.0101C7.87885 12.9725 7.61216 13.0409 7.39998 13.2L3.39998 16.2C3.27768 16.2933 3.17855 16.4136 3.11032 16.5515C3.04209 16.6894 3.00659 16.8412 3.00659 16.995C3.00659 17.1488 3.04209 17.3006 3.11032 17.4385C3.17855 17.5764 3.27768 17.6967 3.39998 17.79L7.25998 20.79C7.43453 20.9255 7.64903 20.9993 7.86998 21C8.0227 20.9996 8.17331 20.9643 8.31025 20.8967C8.44719 20.8291 8.56682 20.731 8.65998 20.61C8.82237 20.4015 8.89565 20.1373 8.86379 19.8749C8.83194 19.6126 8.69755 19.3735 8.48998 19.21L6.91998 18H20C20.2652 18 20.5196 17.8946 20.7071 17.7071C20.8946 17.5196 21 17.2652 21 17C21 16.7348 20.8946 16.4804 20.7071 16.2929C20.5196 16.1054 20.2652 16 20 16Z"
            fill="#64C434"
          ></path>
        </svg>
        <a role="button">{{ _t('Transactions') }}</a>
      </li>
      <li v-if="!isWaiter()">
        <svg
          version="1.1"
          id="Capa_1"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          x="0px"
          y="0px"
          viewBox="0 0 259.761 259.761"
          style="enable-background:new 0 0 259.761 259.761;"
          xml:space="preserve"
        >
          <g>
            <path
              d="M129.879,0C77.562,0,35,42.563,35,94.882c0,31.605,29.071,81.486,41.569,101.465c10.282,16.436,21.32,32.062,31.079,44
    c15.871,19.414,20.328,19.414,22.232,19.414c1.827,0,6.105,0,21.921-19.42c9.784-12.014,20.831-27.637,31.106-43.988
    c12.584-20.027,41.854-70.006,41.854-101.471C224.761,42.563,182.198,0,129.879,0z M129.88,171.525
    c-41.389,0-75.062-33.673-75.062-75.062c0-41.389,33.673-75.062,75.062-75.062c41.389,0,75.062,33.673,75.062,75.062
    C204.942,137.852,171.269,171.525,129.88,171.525z"
            />
            <path
              d="M184.678,67.66c-0.52,0-1.054,0.075-1.586,0.222l-6.027,1.659l-6.257-15.244c-1.773-4.319-7.014-7.834-11.683-7.834
    h-58.573c-4.669,0-9.91,3.514-11.683,7.833l-6.25,15.225l-5.951-1.639c-0.532-0.146-1.066-0.222-1.586-0.222
    c-2.849,0-4.916,2.176-4.916,5.174v3.555c0,3.499,2.848,6.347,6.347,6.347h0.682l-1.01,2.459
    c-1.647,4.014-2.988,10.807-2.988,15.145v30.288c0,3.499,2.848,6.347,6.347,6.347h8.291c3.499,0,6.347-2.848,6.347-6.347v-7.563
    h71.316v7.563c0,3.499,2.848,6.347,6.347,6.347h8.288c3.499,0,6.347-2.848,6.347-6.347v-30.288c0-4.338-1.341-11.131-2.988-15.145
    l-1.01-2.459h0.767c3.499,0,6.347-2.848,6.347-6.347v-3.555C189.594,69.836,187.527,67.66,184.678,67.66z M87.17,79.288
    l9.467-23.062c1.06-2.584,4.213-4.697,7.006-4.697h52.392c2.792,0,5.944,2.114,7.005,4.697l9.467,23.062
    c1.061,2.584-0.357,4.697-3.149,4.697H90.32C87.528,83.985,86.11,81.872,87.17,79.288z M108.305,108.456
    c0,1.396-1.143,2.539-2.539,2.539H87.782c-1.397,0-2.539-1.143-2.539-2.539v-8.631c0-1.396,1.143-2.539,2.539-2.539h17.984
    c1.396,0,2.539,1.143,2.539,2.539V108.456z M174.263,108.456c0,1.396-1.143,2.539-2.539,2.539h-17.982
    c-1.396,0-2.539-1.143-2.539-2.539v-8.631c0-1.396,1.143-2.539,2.539-2.539h17.982c1.396,0,2.539,1.143,2.539,2.539V108.456z"
            />
          </g>
        </svg>
        <a role="button" class="cursor-pointer">
          <router-link :to="'/carhop-orders' + store">
            {{ _t('Carhop Orders') }}
          </router-link>
        </a>
      </li>
      <li v-if="!isWaiter() && !isCarhop() && permitted('brand', 'root')">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
        >
          <path
            fill="#000"
            fill-rule="nonzero"
            d="M23.048 13.607c.08-.55.124-1.116.124-1.69 0-.574-.044-1.14-.124-1.69l-2.617-.749a9.062 9.062 0 0 0-.866-2.09l1.323-2.38a11.64 11.64 0 0 0-2.391-2.39L16.116 3.94a9.143 9.143 0 0 0-2.09-.866L13.278.456A11.586 11.586 0 0 0 9.896.455l-.749 2.617a9.062 9.062 0 0 0-2.09.867l-2.38-1.323a11.64 11.64 0 0 0-2.39 2.39l1.322 2.381a9.143 9.143 0 0 0-.866 2.09l-2.618.749a11.586 11.586 0 0 0 0 3.381l2.616.749c.203.738.496 1.44.867 2.09l-1.323 2.38a11.64 11.64 0 0 0 2.39 2.391l2.381-1.323c.652.37 1.352.664 2.09.867l.749 2.617a11.586 11.586 0 0 0 3.381.001l.749-2.617a9.062 9.062 0 0 0 2.09-.866l2.38 1.322a11.64 11.64 0 0 0 2.391-2.39l-1.323-2.381c.37-.652.664-1.351.867-2.09l2.618-.75zm-11.462 3.276a4.965 4.965 0 1 1 0-9.93 4.965 4.965 0 0 1 0 9.93z"
            opacity=".5"
          />
        </svg>
        <a :href="brand">{{ _t('Settings') }}</a>
      </li>
      <li v-if="enabledModule('switchCashier') && !isWaiter() && !isCarhop()">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 61 56"
        >
          <g fill="#000" fill-rule="nonzero">
            <path
              d="M.178 29.169c0 3.783 3.114 6.866 6.906 6.866 3.793 0 6.907-3.083 6.907-6.866 0-3.783-3.114-6.866-6.907-6.866-3.792 0-6.906 3.083-6.906 6.866zm11.086 0c0 2.3-1.85 4.139-4.18 4.139-2.33 0-4.18-1.84-4.18-4.139 0-2.298 1.85-4.139 4.18-4.139 2.33 0 4.18 1.84 4.18 4.139zM46.364 29.169c0 3.783 3.115 6.866 6.907 6.866s6.907-3.083 6.907-6.866c0-3.783-3.115-6.866-6.907-6.866s-6.907 3.083-6.907 6.866zm11.086 0c0 2.3-1.849 4.139-4.18 4.139-2.33 0-4.179-1.84-4.179-4.139 0-2.3 1.85-4.139 4.18-4.139 2.33 0 4.18 1.84 4.18 4.139zM14.657 3.514a22.854 22.854 0 0 0-8.025 7.758A1.364 1.364 0 0 0 8.95 12.71a20.098 20.098 0 0 1 7.07-6.833C25.254.55 36.89 3.275 42.845 11.881H35.52a1.363 1.363 0 1 0-.038 2.727H45.55c.753 0 1.364-.61 1.364-1.363V3.215a1.363 1.363 0 1 0-2.728-.038v5.938c-6.973-8.772-19.532-11.369-29.53-5.6zM48.749 52.571a22.854 22.854 0 0 0 8.025-7.757 1.364 1.364 0 0 0-2.318-1.437 20.098 20.098 0 0 1-7.07 6.833c-9.234 5.327-20.87 2.6-26.825-6.005h7.325a1.363 1.363 0 1 0 .038-2.728H17.855c-.753 0-1.363.611-1.363 1.364v10.03a1.363 1.363 0 1 0 2.727.038V46.97c6.974 8.773 19.533 11.37 29.53 5.601z"
            />
          </g>
        </svg>
        <router-link
          :to="'/cashier-login' + store"
          @click.native="logoutCashier"
          >{{ _t('Switch Cashier') }}
        </router-link>
      </li>
      <li v-if="!isWaiter() && !isCarhop()">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 58 58"
        >
          <g fill="#000" fill-rule="nonzero">
            <path
              d="M8.419 42.658h2.132v10.665A4.678 4.678 0 0 0 15.23 58h28.064a4.678 4.678 0 0 0 4.678-4.677V42.658h1.609c4.638-.004 8.417-3.783 8.42-8.42v-17.4c-.003-4.636-3.782-8.415-8.419-8.419h-1.61V4.677A4.678 4.678 0 0 0 43.295 0H15.23a4.678 4.678 0 0 0-4.678 4.677V8.42H8.42a8.391 8.391 0 0 0-5.963 2.473A8.405 8.405 0 0 0 0 16.84v17.4c0 2.313.938 4.422 2.457 5.945a8.386 8.386 0 0 0 5.962 2.474zM46.1 53.323c0 .777-.312 1.473-.822 1.984a2.795 2.795 0 0 1-1.984.822H15.23a2.792 2.792 0 0 1-1.985-.822 2.795 2.795 0 0 1-.822-1.984v-18.71c0-.778.313-1.474.822-1.984a2.795 2.795 0 0 1 1.985-.822h28.064c.778 0 1.474.312 1.984.822s.822 1.206.822 1.984v18.71zM12.423 4.677c0-.777.313-1.473.822-1.984a2.795 2.795 0 0 1 1.985-.822h28.064c.778 0 1.474.312 1.984.822.51.511.822 1.207.822 1.984v3.738H12.423V4.677zM1.871 16.84c0-1.803.727-3.436 1.911-4.625A6.518 6.518 0 0 1 8.42 10.29H49.58c1.8 0 3.433.735 4.624 1.924a6.524 6.524 0 0 1 1.924 4.624v17.4c0 1.8-.735 3.433-1.924 4.624a6.524 6.524 0 0 1-4.624 1.924h-1.61v-6.173a4.678 4.678 0 0 0-4.677-4.677H15.23a4.678 4.678 0 0 0-4.678 4.677v6.175H8.42a6.515 6.515 0 0 1-4.637-1.924 6.532 6.532 0 0 1-1.912-4.625v-17.4z"
            />
            <path
              d="M37.681 38.823H20.843a.936.936 0 1 0 0 1.871H37.68a.936.936 0 1 0 0-1.871zM29.487 47.242h-8.644a.936.936 0 1 0 0 1.872h8.644a.936.936 0 1 0 0-1.872z"
            />
            <circle cx="47.704" cy="18.471" r="1.737" />
            <circle cx="39.656" cy="18.471" r="1.737" />
          </g>
        </svg>

        <a role="button" class="cursor-pointer">{{ _t('Printers') }}</a>
      </li>
      <ul class="dine-footer-navmenu">
        <li>
          <svg
            width="15"
            height="18"
            viewBox="0 0 15 18"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M10.5859 7.828H4.94393C4.8126 7.828 4.68257 7.85387 4.56124 7.90412C4.43992 7.95438 4.32968 8.02804 4.23682 8.12089C4.14396 8.21375 4.0703 8.32399 4.02005 8.44532C3.96979 8.56664 3.94393 8.69668 3.94393 8.828C3.94393 8.95932 3.96979 9.08936 4.02005 9.21068C4.0703 9.33201 4.14396 9.44225 4.23682 9.53511C4.32968 9.62796 4.43992 9.70162 4.56124 9.75188C4.68257 9.80213 4.8126 9.828 4.94393 9.828H10.5859L9.46393 10.95C9.27642 11.1376 9.17113 11.3921 9.17122 11.6574C9.17132 11.9226 9.27679 12.177 9.46443 12.3645C9.65207 12.552 9.90651 12.6573 10.1718 12.6572C10.4371 12.6571 10.6914 12.5516 10.8789 12.364L13.7069 9.536C13.8003 9.44333 13.8743 9.33311 13.9249 9.21168C13.9754 9.09025 14.0015 8.96003 14.0015 8.8285C14.0015 8.69697 13.9754 8.56674 13.9249 8.44532C13.8743 8.32389 13.8003 8.21367 13.7069 8.121L10.8799 5.293C10.6924 5.10536 10.4381 4.99989 10.1728 4.9998C9.90751 4.9997 9.65307 5.10499 9.46543 5.2925C9.27779 5.48001 9.17232 5.73438 9.17222 5.99965C9.17213 6.26492 9.27742 6.51936 9.46493 6.707L10.5859 7.828ZM0.999927 0C0.73471 0 0.480356 0.105357 0.29282 0.292893C0.105284 0.48043 -7.34329e-05 0.734784 -7.34329e-05 1V17C-7.34329e-05 17.2652 0.105284 17.5196 0.29282 17.7071C0.480356 17.8946 0.73471 18 0.999927 18C1.26514 18 1.5195 17.8946 1.70703 17.7071C1.89457 17.5196 1.99993 17.2652 1.99993 17V1C1.99993 0.734784 1.89457 0.48043 1.70703 0.292893C1.5195 0.105357 1.26514 0 0.999927 0V0Z"
              fill="#CC3232"
            ></path>
          </svg>
          <a
            role="button"
            class="cursor-pointer"
            @click="logout($router.push('/'))"
            >{{ _t('Logout') }}</a
          >
        </li>
      </ul>
    </ul>
  </li>
</template>
<script>
/* global $ */
import { mapState, mapGetters, mapActions } from 'vuex'
import AuthService from '@/services/data/AuthService'
import bootstrap from '@/bootstrap'
//import SwitchStore from '@/components/commonButtons/SwitchStore'
import avatar from '@/components/mobileComponents/mobileElements/avatar'
export default {
  name: 'TopSidebarMenu',
  props: {},
  components: {
    //SwitchStore,
    avatar,
  },
  data: function() {
    return {
      iconCodeSelection: 'us',
      onlineOrdersCount: 0,
      dm: this.baseurl('delivery') + '/delivery_home/new',
      dashboard: this.baseurl('dashboard'),
      crm: this.baseurl('crm') + '/brand_customers',
      menu: this.baseurl('menu'),
      brand: this.baseurl('brands'),
    }
  },
  updated() {
    $('.setting-dropdown').hide()
  },
  computed: {
    vlocale: {
      get() {
        return this.$store.state.location.locale
      },
      set(val) {
        return this.$store.commit('location/SET_LOCALE', val)
      },
    },
    ...mapGetters('context', ['store']),
    ...mapGetters('auth', ['waiter', 'carhop']),
    ...mapState('location', ['availableLanguages', 'language']),
    ...mapState('dinein', ['dineInTabType', 'activeArea']),
    ...mapState('sync', ['online']),
    ...mapState({
      latestOnlineOrders: state =>
        state.order.onlineOrders ? state.order.onlineOrders.length : 0,
      username: state =>
        state.auth.userDetails ? state.auth.userDetails.name : '',
    }),
    ...mapGetters('location', ['_t', 'permitted']),
  },
  methods: {
    moveDineSection() {
      this.$router.push('/dine-in' + this.store)
      $('.setting-dropdown').css('display', 'none')
    },
    enabledModule(option) {
      switch (option) {
        case 'switchCashier':
          return true
      }
    },
    iconCode: function(iconCode) {
      this.iconCodeSelection = iconCode
    },
    walkOrder() {
      this.$router.push(this.store)
      this.$store.commit('order/ORDER_TYPE', {
        OTview: 'Walk In',
        OTApi: 'walk_in',
      })
    },
    moveTransactionSection() {
      this.$router.push(this.store + '/transactions')
    },
    ...mapActions('auth', ['logout']),
    changeLanguage(locale) {
      // const language = this.languages.find(lang => lang.code === this.vlocale).code
      bootstrap.loadUI(this.$store)
      this.$store.dispatch('location/changeLanguage', locale)
    },
    openConfigLinks() {
      $('.setting-dropdown').toggle()
      $('.setting-dropdown').addClass('animated slideInRight')
      //posConfigLinks()
    },
    closeConfigLinks() {
      $('.setting-dropdown').addClass('animated slideInRight')
    },
    onlineOrders() {
      if (this.latestOnlineOrders == 0) {
        if (
          localStorage.getItem('onlineOrders') != 'undefined' &&
          JSON.parse(localStorage.getItem('onlineOrders')) != null
        ) {
          this.onlineOrdersCount = JSON.parse(
            localStorage.getItem('onlineOrders')
          ).length
        } else {
          this.onlineOrdersCount = 0
        }
      } else {
        this.onlineOrdersCount = this.latestOnlineOrders
      }
    },
    showBookingBtn() {
      $('.dine-btn-menu').addClass('active')
      $('.btn-menu-close ').addClass('active')
      $('.dine-in-wrapper').toggleClass('overlay')
    },
    dineCloseBtn() {
      $('.dine-btn-menu').removeClass('active')
      $('.btn-menu-close ').removeClass('active')
    },
    logoutCashier() {
      localStorage.setItem('token', '')
      this.$store.commit('auth/SET_TOKEN', '')
      this.$store.commit('auth/LOGOUT_ACTION', 'switchCashier')
      AuthService.logout().then(() => {})
    },
    /*...mapActions('customer', ['fetchCustomerAddress']),*/
  },
  mounted() {
    this.onlineOrders()
    $('.setting-dropdown').hide()
  },
}
</script>
